<!-- this page is expected to be reachable only by the authenticated post author  -->
{% extends 'app/base.html' %}

{% block content %}
    <h1>Edit post</h1>
    <!--- display original message -->
    <h2>{{ post.title }}</h2>
    <p>{{ post.url|urlize }}</p>
    <p>by {{ post.user.username }} on {{ post.date }} ({{ post.votes }} vote{{ post.votes|pluralize }})</p>

    <!--- display errors -->
    {% if form.errors %}
        There were some problems with your submission:<br>
        {% for field, errors in form.errors.items %}
            {{ errors }}
        {% endfor %}
    {% endif %}

    <!--- display editing form -->
    <form method="post" action="{% url 'app:post_edit' post.id %}">
        {% csrf_token %}
        <table>
            <tr>
                <td> {{ form.title.label_tag }} </td>
                <td> {{ form.title }} </td>
            </tr>
        </table>
        <input type="submit" value="submit">
    </form>
{% endblock %}